<div class="container my-5">
  <div class="row">

    <!--Amount-->
    <div class="justify-content-center mb-3">
      <div class="d-flex justify-content-center">
        <p class="m-3 pt-4" style="color: rgb(30, 30, 30); font-weight: bold; display:inline;">總支出:</p>
        <h1 class="text-center"
          style="color: tomato; font-family: 'Montserrat', sans-serif; font-size:5em; display:inline;">
          {{total}}
        </h1>
      </div>
    </div>
    <!--Creat & Category-->
    <div class=" justify-content-center mb-3">

      <form action="/filters" method="GET">

        <div class="d-flex justify-content-between">
          <!-- Date dropdowns -->
          <select class="form-select me-2" id="select-date" name="date" aria-label="select date" onchange="submit()"
            style="width: 30%;">
            <option value="">所有日期</option>
            {{#each dates}}
            <option value="{{this.date}}" {{#ifEqual this.selectDateValue this.date}} selected {{/ifEqual}}>
              {{this.date}}
            </option>
            {{/each}}
          </select>

          <!-- Category dropdowns -->
          <select class="form-select" id="select-category" name="category" aria-label="select category"
            onchange="submit()" style="width: 30%;">
            <option value=""> 所有類別</option>
            {{#each categorys}}
            <option value="{{this.category}}" {{#ifEqual this.selectCategoryValue this.category}} selected {{/ifEqual}}>
              {{this.category_cn}} </option>
            {{/each}}
          </select>
        </div>
      </form>
    </div>

    <!--LIST-->
    <div class="justify-content-center">
      <ul class="list-group ">
        {{#each records}}
        <li class="list-group-item">
          <div class="d-flex justify-content-between">

            <div class="d-flex justify-content-between">
              <div class="d-flex align-items-center me-4">
                <i class="{{this.icon}} fa-2x"
                  style="font-size:30px; line-height:15%; width: 30px; color:rgb(60, 96, 161);"></i>
              </div>

              <div class="d-flex flex-column">
                <p class="m-0" style="font-family: font-family: 'Overpass', sans-serif;">{{this.name}}</p>
                <p class="m-0" style="font-family: font-family: 'Overpass', sans-serif;">{{this.date}}</p>
                <p class="m-0"
                  style="color:darkgrey; font-family: font-family: 'Overpass', sans-serif; font-size:12px;">
                  {{this.category_cn}}</p>
              </div>
            </div>

            <div class="d-flex align-items-center flex-column">
              <p class="text-nowrap my-2">{{this.amount}}</p>
              <p class="text-nowrap m-0"
                style="color:darkgrey; font-family: font-family: 'Overpass', sans-serif; font-size:12px;">
                {{this.merchent}}</p>
            </div>

            <div class="d-flex justify-content-end">
              <div class="d-flex align-items-center pe-3">
                <form action="/records/{{this._id}}" method="GET" style="display:inline">
                  <button class="btn btn-outline-success">
                    編輯
                  </button>
                </form>
              </div>
              <div class="d-flex align-items-center ps-1">
                <form action="/records/{{this._id}}?_method=DELETE" method="POST" style="display:inline"
                  onsubmit="return onSubmit()">
                  <button class="btn btn-outline-danger">
                    刪除
                  </button>
                </form>
              </div>
            </div>


          </div>
        </li>
        {{/each}}
      </ul>
    </div>
    <div class="d-flex justify-content-center mt-4">
      <form action="/records/new" method="GET" style="display: inline;">
        <button class="btn btn-dark" type="submit">新增</button>
      </form>
    </div>
  </div>

</div>